Plugin Version: <span id="eidver">Not Available</span><br />
<table id="persData"></table>
<input type="button" value="update" onclick="readPersonalData();" />

<script type="text/javascript">
var names = [ "firstName", "lastName", "documentID",
              "personalID", "sex", "citizenship" ];

var e = document.getElementById("persData");
for(var i in names) {
    e.innerHTML += '<tr><td>' + names[i] + '</td><td><span id="s' + names[i] + '"></span></td></tr>';
}

function cardInserted(reader) {
    readPersonalData();
}
function cardRemoved(reader) {
    clearPersonalData();
}
    var e = document.getElementById("eidver");
    e.innerHTML = esteid.getVersion();
    esteid.addEventListener("cardInsert", cardInserted);
    esteid.addEventListener("cardRemove", cardRemoved);

function readPersonalData() {
    try {
        for(var i in names) {
            var e = document.getElementById("s" + names[i]);
            e.innerHTML = esteid[names[i]];
        }
    }
    catch(err) {
        clearPersonalData();
    }
}

function clearPersonalData() {
    for(var i in names) {
        var e = document.getElementById("s" + names[i]);
        e.innerHTML = "Not Available";
    }
}
</script>
