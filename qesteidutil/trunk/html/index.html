<html>
<head>
	<title>ID kaardi utiliit</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" href="qrc:/html/style.css" type="text/css" />
	<script type="text/javascript" src="qrc:/html/lang.js" />
	<script type="text/javascript" src="qrc:/html/script.js" />
</head>
<body onSelectStart="return false;">
  <div id="top">
    <div id="headerBackground">
      <div style="display: none;">
        <select id="headerSelect">
          <option value="et">Estonian</option>
          <option value="en">English</option>
        </select>
      </div>
      <div id="headerMenus">
        <ul>
          <li class="first">Diagnostika</li>
          <li>Suvandid</li>
          <li>Abi</li>
        </ul>        
      </div>
    </div>
    <div id="topBackground">&nbsp;</div>
    <div id="logo">&nbsp;</div>
    <div id="logotext">&nbsp;</div>
    <div id="linegray">&nbsp;</div>
    <div id="personalInfo">
      <ul>
        <li>Nimi: <span id="firstName"></span> <span id="middleName"></span> <span id="surName"></span></li>
        <li>Isikukood: <span id="id"></span></li>
        <li>Sündinud: <span id="birthDate"></span>, <span id="birthPlace"></span></li>
        <li>Kodakondsus: <span id="citizen"></span></li>
        <li>E-post: <span id="email"></span></li>
      </ul>
    </div>
    <div id="photo">
      <div id="photoContent" style="padding-top:50px;">
        <a href="#" onClick="loadPicture();">Lae pilt</a>
      </div>
    </div>
    <div id="leftMenus">
      <ul>
        <li><input type="button" value="Sertifikaadid" name="cert" onClick="setActive('cert',this);" class="buttonSelected" /></li>
        <li><input type="button" value="@eesti.ee e-post" name="email" onClick="setActive('email',this);" class="button" /></li>
        <li><input type="button" value="Mobiil-ID" name="mobile" onClick="setActive('mobile',this);" class="button" /></li>
        <li><input type="button" value="PUK kood" name="puk" onClick="setActive('puk',this);" class="button" /></li>
      </ul>
    </div>
    <div id="cardInfo" class="cardInfo">
      <ul>
        <li>Lugejas on ID kaart <span id="documentId" style="color: #355670;"></span></li>
        <li>See on <span style="color: #509b00;">kehtiv</span> dokument</li>
        <li><span style="font-size:12px; font-weight: normal; color: #355670;">Kaart on kehtiv kuni <span id="expiry" style="color: #355670;"></span></span></li>
      </ul>
    </div>
    <div id="cardInfoNoCard" class="cardInfo" style="display:none; text-align:center;">
        <p class="noCard">Ei leitud ID-kaarti</p>
    </div>
  </div>
  <!-- sertifikaatide sisu algus-->
  <div id="certContent" class="content">
    <div class="leftContent">
      <span class="contentHeader">Isikutuvastamise sertifikaat</span>
      <p>
        Sertifikaat on <span id="authCertStatus"></span><br />
        Sertifikaat kehtib kuni <span id="authCertValidTo"></span>
      </p>
      <p id="authKeyText">
        Isikutuvastamise privaatvõtit on edukalt kasutatud <span id="authKeyUsage"></span> korda
      </p>
      <div id="authKeyBlocked" class="keyBlocked">
        Selle ID-kaardiga ei ole hetkel võimalik audentida, kuna PIN1 koodi on sisestatud 3 korda valesti.<br />Sertifikaat on blokeeritud.
      </div>
      <div id="authBottomButtons">
        <div id="authValidButtons">
          <input type="button" value="Muuda PIN1" onClick="setActive('pin1','');" class="buttonBottom" />
          <input type="button" value="Vaata üksikasju" class="buttonBottom" />
        </div>
        <div id="authBlockedButtons" style="position: absolute; bottom: 5px; left: 50px;">
          <input type="button" value="Tühista blokeering" onclick="setActive('bpin1','');" class="buttonBottom" />
        </div>
      </div>
    </div>
    <div class="rightContent">
      <span class="contentHeader">Allkirja sertifikaat</span>
      <p>
        Sertifikaat on <span id="signCertStatus"></span><br />
        Sertifikaat kehtib kuni <span id="signCertValidTo"></span>
      </p>
      <p id="signKeyText">
        Allkirjastamise privaatvõtit on edukalt kasutatud <span id="signKeyUsage"></span> korda
      </p>
      <div id="signKeyBlocked" class="keyBlocked">
        Selle ID-kaardiga ei ole hetkel võimalik anda digitaalallkirja, kuna PIN2 koodi on sisestatud 3 korda valesti.<br />Sertifikaat on blokeeritud.
      </div>
      <div id="signBottomButtons" style="padding-left: 30px;">
        <div id="signValidButtons">
          <input type="button" value="Muuda PIN2" onclick="setActive('pin2','');" class="buttonBottom" />
          <input type="button" value="Vaata üksikasju" class="buttonBottom" />
        </div>
        <div id="signBlockedButtons" style="position: absolute; bottom: 5px; left: 50px;">
          <input type="button" value="Tühista blokeering" onclick="setActive('bpin2','');" class="buttonBottom" />
        </div>
      </div>
    </div>
  </div>
  <!-- sertifikaatide sisu l6pp -->

  <!-- PIN1 blokeeringu algus -->
  <div id="bpin1Content" class="content" style="display: none;">
	<span class="contentHeader">Isikutuvastamise sertifikaat on blokeeritud.</span>
	<div class="leftContent">
		<p>
			Sertfikaadi blokeeringu tühistamiseks sisesta kaardi PUK-kood.
		</p>
		<p>
			PUK-koodi leiad ID-kaardi koodide ümbrikus, kui sa pole seda vahepeal muutnud.
		</p>
		<p>
			Kui sa ei tea oma ID-kaardi PUK koodi, külasta teeninduskeskust kus saad kaardile laadida uued sertifikaadid ning saad uue koodiümbriku.
		</p>
	</div>
	<div class="rightContent">
		<label>
			PUK kood<br />
			<input type="password" name="bpin1OldPin" id="bpin1OldPin">
		</label>
		<br />
		<label>
			Uus PIN1 kood
			<input type="password" name="bpin1NewPin" id="bpin1NewPin">
		</label>
		<br />
		<label>
			Uus PIN1 kood uuesti
			<input type="password" name="bpin1NewPin2" id="bpin1NewPin2">
		</label>
		<br />
        <input type="button" value="Muuda" onClick="unblockPin1();" class="buttonBottom" />
        <input type="button" value="Tühista" onClick="setActive('cert','');" class="buttonBottom" />		
	</div>
  </div>
  <!-- PIN1 blokeeringu l6pp -->
  
  <!-- PIN1 muutmine algus -->
  <div id="pin1Content" class="content" style="display: none;">
	<span class="contentHeader">PIN1 koodi vahetus</span>
	<div class="leftContent">
		<p>
			PIN1 on kood, mida kasutatakse isikutuvastamise sertifikaadile ligipääsemiseks.
		</p>
		<p>
			Kui PIN1 koodi sisestatakse kolm korda valesti, siis isikutuvastamise sertifikaat blokeeritakse ning ID-kaarti pole võimalik kasutada isiku tuvastamiseks enne kui blokeering tühistatakse PUK-koodiga.
		</p>
	</div>
	<div class="rightContent">
		<label>
			Vana PIN1 kood
			<input type="password" name="pin1OldPin" id="pin1OldPin">
		</label>
		<br />
		<label>
			Uus PIN1 kood
			<input type="password" name="pin1NewPin" id="pin1NewPin">
		</label>
		<br />
		<label>
			Uus PIN1 kood uuesti
			<input type="password" name="pin1NewPin2" id="pin1NewPin2">
		</label>
		<br />
        <input type="button" value="Muuda" onClick="changePin1();" class="buttonBottom" />
        <input type="button" value="Tühista" onClick="setActive('cert','');" class="buttonBottom" />		
	</div>
  </div>
  <!-- PIN1 muutmine l6pp -->
  
  <!-- PIN2 blokeeringu algus -->
  <div id="bpin2Content" class="content" style="display: none;">
	<span class="contentHeader">Allkirja sertifikaat on blokeeritud.</span>
	<div class="leftContent">
		<p>
			Sertfikaadi blokeeringu tühistamiseks sisesta kaardi PUK-kood.
		</p>
		<p>
			PUK-koodi leiad ID-kaardi koodide ümbrikus, kui sa pole seda vahepeal muutnud.
		</p>
		<p>
			Kui sa ei tea oma ID-kaardi PUK koodi, külasta teeninduskeskust kus saad kaardile laadida uued sertifikaadid ning saad uue koodiümbriku.
		</p>
	</div>
	<div class="rightContent">
		<label>
			PUK kood<br />
			<input type="password" name="bpin2OldPin" id="bpin2OldPin">
		</label>
		<br />
		<label>
			Uus PIN2 kood
			<input type="password" name="bpin2NewPin" id="bpin2NewPin">
		</label>
		<br />
		<label>
			Uus PIN2 kood uuesti
			<input type="password" name="bpin2NewPin2" id="bpin2NewPin2">
		</label>
		<br />
        <input type="button" value="Muuda" onClick="unblockPin2();" class="buttonBottom" />
        <input type="button" value="Tühista" onClick="setActive('cert','');" class="buttonBottom" />		
	</div>
  </div>
  <!-- PIN2 blokeeringu l6pp -->
  
  <!-- PIN2 muutmine algus -->
  <div id="pin2Content" class="content" style="display: none;">
	<span class="contentHeader">PIN2 koodi vahetus</span>
	<div class="leftContent">
		<p>
			PIN2 on kood, mida kasutatakse digitaalallkirja andmiseks.
		</p>
		<p>
			Kui PIN2 koodi sisestatakse kolm korda valesti, siis allkirja sertifikaat blokeeritakse ning ID-kaarti pole võimalik kasutada digitaalallkirja andmiseks enne kui blokeering tühistatakse PUK-koodiga.
		</p>
	</div>
	<div class="rightContent">
		<label>
			Vana PIN2 kood
			<input type="password" name="pin2OldPin" id="pin2OldPin">
		</label>
		<br />
		<label>
			Uus PIN2 kood
			<input type="password" name="pin2NewPin" id="pin2NewPin">
		</label>
		<br />
		<label>
			Uus PIN2 kood uuesti
			<input type="password" name="pin2NewPin2" id="pin2NewPin2">
		</label>
		<br />
        <input type="button" value="Muuda" onClick="changePin2();" class="buttonBottom" />
        <input type="button" value="Tühista" onClick="setActive('cert','');" class="buttonBottom" />		
	</div>
  </div>
  <!-- PIN2 muutmine l6pp -->
  
  <!-- Eposti sisu algus -->
  <div id="emailContent" class="content" style="display: none;">
	<span class="contentHeader">@eesti.ee e-post</span>
	<p id="emailsContent">
		&nbsp;
	</p>
	<p id="emailsContentActivate" style="display:none;">
		<label>
			E-posti aadress kuhu suunatakse Teie @eesti.ee kirjad
			<input type="text" name="emailAddress" id="emailAddress">
		</label>
		<br />
		<input type="button" value="Aktiveeri @eesti.ee e-post" onclick="activateEmail()" class="buttonBottom" />
	</p>
	<p>
		Täiuslikuma ametliku e-posti suunamise häälestamisvahendi leiad <a href="#" onClick="extender.openUrl('http://www.eesti.ee/est/');">portaalist eesti.ee</a>
	</p>
  </div>
  <!-- Eposti sisu l6pp -->
  
  <!-- Mobiil-ID sisu algus -->
  <div id="mobileContent" class="content" style="display: none;">
	<span class="contentHeader">Mobiil-ID</span>
	<p>
		Mobiil-ID on võimalus kasutada isikutuvastamiseks ja digitaalallkirja andmiseks ID-kaardi asemel mobiiltelefoni.<br />
		<a href="#" onClick="extender.openUrl('http://id.ee/?id=10971');">Loe täpsemalt id.ee kodulehelt</a>
	</p>
	<p>
		Mobiil-ID kasutamiseks on vajalik uus SIM-kaart, mille sa saad omale mobiilsideoperaatori käest. Kui selline kaart on sul juba olemas, tuleb teenus aktiveerida.
	</p>
	<p>
		<input type="button" value="Aktiveeri Mobiil-ID teenus" onclick="activateMobile()" class="buttonBottom" />
	</p>
  </div>
  <!-- Mobiil-ID sisu l6pp -->
  
  <!-- PUK sisu algus -->
  <div id="pukContent" class="content" style="display: none;">
	<span class="contentHeader">PUK kood</span>
    <p>
		PUK-kood on kood, millega saab tühistada sertifikaadi blokeeringu kui PIN1 või PIN2 koodi on 3 korda järjest valesti sisestatud.
	</p>
	<p>
		PUK-kood on kirjas koodiümbrikus, mida väljastatakse koos ID-kaardiga või sertifikaatide vahetamisel.
    </p>
	<p>
		<input type="button" value="Muuda PUK" onclick="setActive('cpuk','');" class="buttonBottom" />
	</p>
  </div>
  <!-- PUK sisu l6pp -->
  
  <!-- PUK muutmine algus -->
  <div id="cpukContent" class="content" style="display: none;">
	<span class="contentHeader">PUK koodi vahetus</span>
	<div class="leftContent">
		<p>
			Kui peale vahetamist PUK kood läheb meelest ära ja sertifikaat jääb blokeerituks kolme vale PIN1 või PIN2 sisetamise järel, siis ainus võimalus ID-kaart jälle tööle saada on pöörduda teenindusbüroo poole.
		</p>
	</div>
	<div class="rightContent">
		<label>
			Vana PUK kood
			<input type="password" name="pukOldPin" id="pukOldPin">
		</label>
		<br />
		<label>
			Uus PUK kood
			<input type="password" name="pukNewPin" id="pukNewPin">
		</label>
		<br />
		<label>
			Uus PUK kood uuesti
			<input type="password" name="pukNewPin2" id="pukNewPin2">
		</label>
		<br />
        <input type="button" value="Muuda" onClick="changePuk();" class="buttonBottom" />
        <input type="button" value="Tühista" onClick="setActive('puk','');" class="buttonBottom" />		
	</div>
  </div>
  <!-- PUK muutmine l6pp -->
  
<script type="text/javascript">
window.cardManager.registerCallBack("cardInsert", "cardInserted");
window.cardManager.registerCallBack("cardRemove", "cardRemoved");
window.cardManager.registerCallBack("handleError", "handleError");

readCardData();
</script>

</body>
</html>
